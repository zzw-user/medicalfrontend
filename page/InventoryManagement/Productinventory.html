<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
</head>
<link rel="stylesheet" href="../../lib/layui-v2.5.5/css/layui.css">
<style>


</style>
<body>
<div><span style="font-size: 1.875rem; margin-left: 3.125rem;"><b>产品库存</b></span></div>
<br>
<br>
<div class="weadmin-body">
    <div class="layui-row">
        <form class="layui-form layui-col-md12 we-search">
            <br>
            <span style="margin-left:80px"><b>产品名称:</b></span>
            <div class="layui-inline" >
                <input class="layui-input" id="pname" placeholder="产品名称" id="serialnumber" name="pname">
            </div>

            <button type="button" class="layui-btn" lay-filter="demo1" id="bth">搜索</button>
            <table id="test" lay-filter="test"></table>
        </form>

    </div>
</div>
</body>

<script src="../../lib/layui-v2.5.5/layui.js"></script>
<script>
    layui.use(['form', 'layedit', 'laydate','upload','table'], function() {
        var form = layui.form
            , table = layui.table
            , layer = layui.layer
            , layedit = layui.layedit
            , laydate = layui.laydate
            , $ = layui.jquery
            , upload = layui.upload;

        //日期
        laydate.render({
            elem: '#date'
        });
        laydate.render({
            elem: '#date1'
        });
        table.render({
            elem: '#test'
            , height: 312
            , url: 'http://127.0.0.1:8080/pageinfoproductAndInventory' //数据接口
            , page: true //开启分页
            , id: "userTable"
            , cols: [[ //表头
                {field: 'pid', title: '序号', width: 170, sort: true, fixed: 'left'}
                , {field: 'pname', title: '产品名称', width: 170}
                , {field: 'quantity', title: '产品数量', width: 170, sort: true}


            ]]
            , page: true
            , limit: 3
        });
        $("#bth").on("click", function () {
            table.reload('userTable', {
                where: { //设定异步数据接口的额外参数，任意设
                    pname: $("#pname").val(),

                }
                , page: {
                    curr: 1 //重新从第 1 页开始
                }

            });


        })

    });

</script>
</html>
